<div class="row mt-4 justify-content-center text-center">
  <div class="col-12 col-md-8 col-lg-6">
    <app-info-section
      title="Financial Overview"
      bodyMsg="This dashboard shows all your checking, savings, and retirement accounts in one place. Your net worth is calculated by totaling the balances of all connected accounts.">
    </app-info-section>
  </div>
</div>

<div class="row mt-4 justify-content-center">
  <div class="col-12 col-md-10 col-lg-8">
    <div class="card chart-card net-worth-card p-3 mb-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4 class="mb-0">Net Worth</h4>
        <div class="text-muted small">Overview of all accounts</div>
      </div>
      <div class="chart-wrapper">
        <ag-charts class="responsive-chart" *ngIf="(personalAccts$ | async)?.length !== 0" [options]="netWorthChartOptions">
        </ag-charts>
      </div>
    </div>
  </div>
</div>
<hr />

<div class="row mt-4 justify-content-center">
  @if((personalRecords$ | async)?.length !== 0) {
    <div class="col-12">
      <h3 class="mb-3">Personal Accounts</h3>
    </div>
    @for(act of personalRecords$ | async; track act) {
    <div class="col-12 col-md-6 col-lg-4 mb-4">
      <div class="card chart-card h-100">
        <div class="card-header d-flex justify-content-between align-items-center">
          <div class="account-title">{{ act.Name }}</div>
          <div class="balance-badge">{{ act.Balance | currency:'USD' }}</div>
        </div>
        <div class="card-body py-3">
          <div class="chart-wrapper">
            <canvas *ngIf="act.ChartRecords" baseChart 
                    [data]="act.ChartRecords" 
                    [options]="accountHistoryChartOptions" 
                    [type]="'line'">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  }
  }
</div>

<div *ngIf="(personalAccts$ | async)?.length === 0" class="text-center mt-5 no-accounts">
  <h3 class="mb-3">No Accounts Connected Yet</h3>
  <p class="text-muted mb-4">
    Add your checking, savings, or retirement accounts to start
    tracking your net worth and financial progress.
  </p>
  <button class="btn btn-primary btn-lg" (click)="navToAddAcount()">
    Add Your First Account
  </button>
</div>